---
id: m-7b35
status: closed
deps: []
links: []
created: 2026-02-01T22:19:42Z
type: task
priority: 3
assignee: Steve Macbeth
parent: m-e4de
---
# Create uninstall-prod.sh script

Create a teardown script that cleanly removes all production services and optionally removes data.

## Design

Files: scripts/uninstall-prod.sh (new)

Steps:
1. Unload all launchd services:
   - launchctl bootout gui/$(id -u)/com.manager.server
   - launchctl bootout gui/$(id -u)/com.manager.deployer
   - launchctl bootout gui/$(id -u)/com.manager.caddy
2. Remove plist files from ~/Library/LaunchAgents/
3. Prompt: remove prod checkout? (~/.local/services/manager/)
4. Prompt: remove caddy config? (~/.local/services/caddy/)
5. Prompt: remove logs? (~/Library/Logs/Manager/)
6. Print confirmation

Graceful: doesn't fail if services aren't loaded or files don't exist

## Acceptance Criteria

- All three launchd services cleanly unloaded
- Plist files removed
- Optional cleanup of checkout, caddy config, and logs with user confirmation
- Script doesn't error on missing services or files

